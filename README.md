# Synchronization and Voting for ensemble clustering
## Summary
Implementation in Matlab the Synchronization and Voting technique for the resolution of the cluster ensemble problem using synchronized relabeling. 

Please refer to demo.m for an example how to use the algorithm with its options. All the most important functions are commented, explaining 
required inputs and outputs.

The available relabeling and voting methods are listed here with usage explanation.

## Usage


The main function that needs to be run is
```MATLAB
consensus = synchronizationAndVoting(method,voting,PI,trueK,perc, pi_ref)
```

### Inputs

 Parameter      | Description
 -------------- | -----------
 'method'       | the name of the specific synchronization technique that is used  for relabeling. The available options are 'EIG', 'NMF', 'QM'.     
 'voting'       |the name of the specific voting criteria that is used to obtain the consensus partition. The available options are 'simple', 'weightSimple', 'weightAverage'.
'PI'            | an M x 1 cell array representing the Ensemble. Each cell contains the Binary Association Matrix of a partition.
 'trueK'        | the number of cluster of the ground truth. Some methods don't require it, in that case any integer value can be inserted.
 'perc'         | percentage of edges created with the graph, from 0.0 to 1.0. Values  too low are automatically handled, creating the minimum number of edges required for a fully-connected graph
 'pi_ref'       | the Binary Association Matrix of the reference partition used in  case of weighted voting, if selected. By default is one of the   partitions with the greatest number of cluster labels.
 
### Output
Output variable| Description
-------------- | -----------
'consensus'    | the N x 1 label vector associated to the consensus     partition generated by the synchronization and voting algorithm


### Relabeling methods
Algorithm      | Description
-------------- | -----------
'SV- EIG'    | obtain the absolute permutations of each partition by finding the K leading eigenvectors. Requires partitions with same number of cluster labels, outputs a consensus partition with the same number of cluster labels. Based on the work of Pachauri et al [1]
'SV-NMF'     | obtain the absolute permutations of each partition by applying a non-negative matrix factorization based synchronization algorithm. Partitions can have different numbers of                      cluster labels. Requires to specify a desired number of cluster labels for the consensus partition. Based on the work of Bernard et al [2].
'SV-QM'      | obtain the absolute permutations of each partition by applying the QuickMatch algorithm. Partitions can have different numbers of cluster labels and it finds by itself the final number of cluster labels. Based on the work of Tron et al. [3]

### Voting options
Option      | Description
-------------- | -----------
'Simple voting' | each partition proposes a cluster label for each point, and a simple plurality vote process is applied to decide the final labels
'Weighted voting - simple | on top of plurality voting, the vote of each partition is associated to a weight, computed as the NMI between that partition and a reference partition.
'Weighted voting - average | on top of plurality voting, the vote of each partition is associated to a weight, computed as the inverse average NMI of that partition w.r.t. the other partitions in the ensemble.

# Authors

Michele Alziati (michele.alziati@mail.polimi.it) 
Fiore Amar√π  (fiore.amaru@mail.polimi.it)


# Bibliography
[1]  [Solving the multi-way matching problem by permutation synchronization](https://pages.cs.wisc.edu/~pachauri/perm-sync/assignmentsync.pdf)
    D. Pachauri, R. Kondor, V. Singh. NIPS. 2013
    
[2] [Synchronisation of Partial Multi-Matchings via Non-negative Factorisations](https://www.sciencedirect.com/science/article/pii/S0031320319301293)
F. Bernard, J. Thunberg, J. Goncalves, C. Theobalt. Pattern Recognition. 2019 
[3] Fast Multi-Image Matching via Density-Based Clustering (https://openaccess.thecvf.com/content_ICCV_2017/papers/Tron_Fast_Multi-Image_Matching_ICCV_2017_paper.pdf)
 R. Tron and X. Zhou. 
